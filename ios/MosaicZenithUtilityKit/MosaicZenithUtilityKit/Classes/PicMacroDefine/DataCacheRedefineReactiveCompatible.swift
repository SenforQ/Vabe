
//: Declare String Begin

/*: "CacheAddrServerUrlSelectIndexKey" :*/
fileprivate let mainLayerFormat:[UInt8] = [0xa,0x28,0x2a,0x2f,0x2c,0x8,0x2b,0x2b,0x39,0x1a,0x2c,0x39,0x3d,0x2c,0x39,0x1c,0x39,0x33,0x1a,0x2c,0x33,0x2c,0x2a,0x3b,0x10,0x35,0x2b,0x2c,0x3f,0x12,0x2c,0x40]

				fileprivate func serverClass(request num: UInt8) -> UInt8 {
					let value = Int(num) - 199
					if value < 0 {
						return UInt8(value + 256)
					} else {
						return UInt8(value)
					}
				}

/*: "CacheAppleLoginNickNameKey" :*/
fileprivate let show_tapMessage:String = "CacheAon filter star"
fileprivate let kModelMsg:String = "LoginNelse of show content view"
fileprivate let userShowName:[Character] = ["K","e","y"]

/*: "CacheLoginUidCacheKey" :*/
fileprivate let notiLabelValue:[Character] = ["C","a","c","h","e","L","o","g","i","n","U"]
fileprivate let show_makePath:[Character] = ["i","d","C"]
fileprivate let dataFileStr:String = "acheKeyuser range self list"

/*: "CacheLoginUserInfoCacheKey" :*/
fileprivate let appGestureUrl:[Character] = ["C","a","c","h","e","L","o","g"]
fileprivate let notiSectionKey:[Character] = ["i","n","U","s","e","r","I"]
fileprivate let app_titleText:[Character] = ["n","f","o","C","a","c","h","e","K","e","y"]

/*: "CacheLastLoginTypeCacheKey" :*/
fileprivate let const_fillMsg:String = "Cacheimage false"
fileprivate let dataCarrierName:[Character] = ["L","a","s","t","L","o","g","i","n","T","y","p","e","C","a","c","h","e","K","e","y"]

/*: "CacheLoginUserConfigKey" :*/
fileprivate let userRenderChangeToMsg:String = "manager make bottomCache"
fileprivate let main_rowTitle:String = "Logiat input text return model"
fileprivate let noti_contentMessage:String = "last skip error status selfConf"

/*: "CacheAppConfigKey" :*/
fileprivate let show_blockName:String = "for count not voiceCache"
fileprivate let main_removeName:String = "shared talk adjustmentnfigKey"

/*: "CacheUserTagCacheUrlKey" :*/
fileprivate let dataStartKey:[Character] = ["C","a","c","h","e","U","s","e","r","T","a","g","C","a","c","h"]
fileprivate let app_requestUrl:[Character] = ["e","U","r","l","K","e","y"]

/*: "CacheUserCookiesKey" :*/
fileprivate let notiSizeContent:[Character] = ["C","a"]
fileprivate let noti_titleLineKey:[Character] = ["c","h","e","U","s","e","r","C","o","o","k","i","e","s","K","e","y"]

/*: "CacheHomeTabTurnOnNotificationsKey" :*/
fileprivate let k_labelValue:[UInt8] = [0x99,0xbb,0xb9,0xb2,0xbf,0x92,0xb5,0xb7,0xbf,0x8e,0xbb,0xb8,0x8e,0xaf,0xa8,0xb4,0x95,0xb4,0x94,0xb5,0xae,0xb3,0xbc,0xb3,0xb9,0xbb,0xae,0xb3,0xb5,0xb4,0xa9,0x91,0xbf,0xa3]

				private func extraData(time num: UInt8) -> UInt8 {
					return num ^ 218
				}

/*: "CacheMessageTabTurnOnNotificationsKey" :*/
fileprivate let k_atStatusValue:[UInt8] = [0x89,0xab,0xa9,0xa2,0xaf,0x87,0xaf,0xb9,0xb9,0xab,0xad,0xaf,0x9e,0xab,0xa8,0x9e,0xbf,0xb8,0xa4,0x85,0xa4,0x84,0xa5,0xbe,0xa3,0xac,0xa3,0xa9,0xab,0xbe,0xa3,0xa5,0xa4,0xb9,0x81,0xaf,0xb3]

/*: "CacheMessageTabCloseNotificationsKey" :*/
fileprivate let constCellData:[UInt8] = [0xa,0x28,0x2a,0x21,0x2c,0x4,0x2c,0x3a,0x3a,0x28,0x2e,0x2c,0x1d,0x28,0x2b,0xa,0x25,0x26,0x3a,0x2c,0x7,0x26,0x3d,0x20,0x2f,0x20,0x2a,0x28,0x3d,0x20,0x26,0x27,0x3a,0x2,0x2c,0x30]

/*: "CacheCallShowTag" :*/
fileprivate let kModelName:String = "under name item cell dataCacheC"
fileprivate let user_componentId:[Character] = ["a","l","l","S","h","o","w","T","a","g"]

/*: "CacheFirstShowIntimateGuide" :*/
fileprivate let dataMessagePath:[Character] = ["C","a","c","h","e","F","i"]
fileprivate let noti_addStr:[Character] = ["r","s","t","S","h","o","w","I","n","t","i","m","a"]
fileprivate let data_topUrl:String = "teGuidemake request do"

/*: "CacheFreeTipsViewIsShow_ :*/
fileprivate let dataVoiceTitle:[Character] = ["C","a","c","h","e","F","r","e","e","T","i","p","s","V","i","e","w"]
fileprivate let kQuoteErrorValue:String = "IsShow_manager written"

/*: "CacheLiveTabExplainIsShow_ :*/
fileprivate let userColorInsideMessage:String = "view colorCach"
fileprivate let dataResultTitle:String = "eTabExmake user"
fileprivate let notiBackName:String = "sShow_scene size model select"

/*: "CacheMaleUnsubscribedAlertIsShow_ :*/
fileprivate let userEffectMessage:[UInt8] = [0xb8,0xd6,0xd8,0xdd,0xda,0xc2,0xd6,0xe1,0xda,0xca,0xe3,0xe8,0xea,0xd7,0xe8,0xd8,0xe7,0xde,0xd7,0xda,0xd9,0xb6,0xe1,0xda,0xe7,0xe9,0xbe,0xe8,0xc8,0xdd,0xe4,0xec,0xd4]

				fileprivate func inviteAt(add num: UInt8) -> UInt8 {
					let value = Int(num) + 139
					if value > 255 {
						return UInt8(value - 256)
					} else {
						return UInt8(value)
					}
				}

/*: "CacheAIIntimacyViewIsShow" :*/
fileprivate let k_parentId:String = "circle officialCache"
fileprivate let dataShareModelText:String = "if hidden import row anyimacyVie"
fileprivate let noti_constraintFormat:String = "list towIsShow"

/*: "isFirstShowAnimatCacheKey" :*/
fileprivate let dataBubbleId:[Character] = ["i","s","F","i","r","s","t","S","h","o","w","A","n","i","m","a","t"]
fileprivate let app_userDropMsg:String = "info background modelCacheKey"

/*: "isFirstShowMatchTipsViewCacheKey" :*/
fileprivate let notiNameFormat:[UInt8] = [0x5e,0x44,0x71,0x5e,0x45,0x44,0x43,0x64,0x5f,0x58,0x40,0x7a,0x56,0x43,0x54,0x5f,0x63,0x5e,0x47,0x44,0x61,0x5e,0x52,0x40,0x74,0x56,0x54,0x5f,0x52,0x7c,0x52,0x4e]

/*: "isShowCleanAnimatCacheKey" :*/
fileprivate let main_failData:String = "model indexisShow"
fileprivate let show_logColorPath:String = "Cleansend label equal"
fileprivate let noti_statusValue:String = "tCacwho click icon add equal"
fileprivate let main_centerFromMessage:String = "heKeymodel reference context original i"

/*: "isConversationIntimateCacheKey" :*/
fileprivate let showRegularPath:String = "equal model iconisCon"
fileprivate let main_makeUrl:String = "ationItrue var red sub"
fileprivate let mainSucceedText:String = "make available frame float selfteCa"
fileprivate let app_modelData:[Character] = ["e","y"]

/*: "sendAutoGreetIsTo" :*/
fileprivate let dataEqualSlideTitle:String = "SEND"
fileprivate let userHiddenPathUrl:String = "pop data counttIsTo"

/*: "SaveInviteCodeKey" :*/
fileprivate let notiPartMsg:String = "tab attribute session gift phoneSave"
fileprivate let user_itemUrl:String = "eCoddeadline message make self to"
fileprivate let app_groupPath:String = "view extension printeKey"

/*: "PrivateChatTipsTitle" :*/
fileprivate let mainViewKey:[Character] = ["P","r","i","v","a","t","e","C","h","a","t","T","i","p","s","T","i"]
fileprivate let showMTargetKey:String = "TLE"

/*: "/Documents/User/record/" :*/
fileprivate let noti_equalKey:[Character] = ["/","D","o","c","u","m"]
fileprivate let userImageFormat:String = "enadd"
fileprivate let app_tempFrameDataStr:String = "/recif again tag self mp"

/*: "/Documents/User/voice/" :*/
fileprivate let noti_dataStr:String = "child social color type show/Docume"
fileprivate let kArrayPlayStr:String = "manager title sex var falsents/Us"
fileprivate let noti_normalPath:String = "super imageice/"

/*: "FreeMsgTimesViewIsShow" :*/
fileprivate let notiListName:[Character] = ["F","r","e","e","M","s","g","T","i","m","e","s"]
fileprivate let k_modeValue:[Character] = ["V","i","e","w","I","s","S","h","o","w"]

/*: "MessageIntimatePhoto" :*/
fileprivate let notiMakePath:[Character] = ["M","e","s","s","a","g","e","I","n","t","i","m","a","t","e","P","h","o","t","o"]

/*: "IntimateDict_ :*/
fileprivate let data_showName:String = "request make appIntimat"
fileprivate let dataSectionToolPath:String = "a content change elseeDict_"

/*: "MessageIntimateVideo" :*/
fileprivate let show_textYellowValue:String = "right open from to onMessage"
fileprivate let show_colorContentPath:[Character] = ["I","n","t","i","m","a","t","e","V","i","d","e","o"]

/*: "MessageAskForGift" :*/
fileprivate let kFillMsg:[Character] = ["M","e","s"]
fileprivate let data_finishStr:String = "sageAplay re"
fileprivate let const_modelPath:String = "bag kindrGift"

/*: "AskForGiftArr_ :*/
fileprivate let appSizeMsg:[Character] = ["A","s","k","F","o","r","G","i","f"]
fileprivate let k_mainSessionData:String = "corner show send user detailtArr_"

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  DataCacheRedefineReactiveCompatible.swift
//  AbroadTalking
//
//  Created by Hemming on 2022/8/27.
//

//: import UIKit
import UIKit

//: let Defaults = UserDefaults.standard
let const_appStr = UserDefaults.standard

// MARK: - UserDefaults

//: public let TalkingAddrServerUrlSelectIndexKey   = "CacheAddrServerUrlSelectIndexKey"
public let main_inviteValue = String(bytes: mainLayerFormat.map{serverClass(request: $0)}, encoding: .utf8)!
// 苹果登录只会在第一次授权时获得昵称信息，需缓存起来，防止用户终止流程再次获取不到昵称
//: public let TalkingAppleLoginNickNameKey             = "CacheAppleLoginNickNameKey"
public let dataRobotKey = (String(show_tapMessage.prefix(6)) + "pple" + String(kModelMsg.prefix(6)) + "ickName" + String(userShowName))
//: public let TalkingLoginUidCacheKey                  = "CacheLoginUidCacheKey"                  // uid缓存
public let dataScreenTitle = (String(notiLabelValue) + String(show_makePath) + String(dataFileStr.prefix(7))) // uid缓存
//: public let TalkingLoginUserInfoCacheKey             = "CacheLoginUserInfoCacheKey"             // 用户信息缓存
public let kMaxData = (String(appGestureUrl) + String(notiSectionKey) + String(app_titleText)) // 用户信息缓存
//: public let TalkingLastLoginTypeCacheKey             = "CacheLastLoginTypeCacheKey"             // 隐私协议弹窗是否已展示
public let notiMessageData = (String(const_fillMsg.prefix(5)) + String(dataCarrierName)) // 隐私协议弹窗是否已展示
//: public let TalkingLoginUserConfigKey                = "CacheLoginUserConfigKey"                // 用户配置接口
public let userTimeMessage = (String(userRenderChangeToMsg.suffix(5)) + String(main_rowTitle.prefix(4)) + "nUser" + String(noti_contentMessage.suffix(4)) + "igKey") // 用户配置接口
//: public let TalkingAppConfigKey                      = "CacheAppConfigKey"                      // APP配置接口
public let k_meetingPathSuccessUrl = (String(show_blockName.suffix(5)) + "AppCo" + String(main_removeName.suffix(7))) // APP配置接口
//: public let TalkingUserTagCacheUrlKey                = "CacheUserTagCacheUrlKey"                // 用户标签
public let notiPartyStr = (String(dataStartKey) + String(app_requestUrl)) // 用户标签
//: public let TalkingUserCookiesKey                    = "CacheUserCookiesKey"                    // 用户cookies
public let notiBarContent = (String(notiSizeContent) + String(noti_titleLineKey)) // 用户cookies
//: public let TalkingHomeTabTurnOnNotificationsKey     = "CacheHomeTabTurnOnNotificationsKey"     // homeTab_提醒打开系统通知
public let userCountValue = String(bytes: k_labelValue.map{extraData(time: $0)}, encoding: .utf8)! // homeTab_提醒打开系统通知
//: public let TalkingMessageTabTurnOnNotificationsKey  = "CacheMessageTabTurnOnNotificationsKey"  // messageTab_提醒打开系统通知
public let const_replaceViewStr = String(bytes: k_atStatusValue.map{$0^202}, encoding: .utf8)! // messageTab_提醒打开系统通知
//: public let TalkingMessageTabCloseNotificationsKey   = "CacheMessageTabCloseNotificationsKey"   // message 提醒View关闭缓存
public let notiRecordFormat = String(bytes: constCellData.map{$0^73}, encoding: .utf8)! // message 提醒View关闭缓存
//: public let TalkingCallShowTag                       = "CacheCallShowTag"                       // 女性接听时展示手势
public let kDeviceName = (String(kModelName.suffix(6)) + String(user_componentId)) // 女性接听时展示手势
//: public let TalkingFirstShowIntimateGuide            = "CacheFirstShowIntimateGuide"            // 消息详情首次展示亲密度动效
public let dataPostMsg = (String(dataMessagePath) + String(noti_addStr) + String(data_topUrl.prefix(7))) // 消息详情首次展示亲密度动效

// 动态发布提示视图是否展示
//: public var TalkingFreeTipsViewIsShow: String {
public var appRecordValue: String {
    //: return "CacheFreeTipsViewIsShow_\(String(ExamineedReactiveCompatible.share.loginUserMode.userID))"
    return (String(dataVoiceTitle) + String(kQuoteErrorValue.prefix(7))) + "\(String(ExamineedReactiveCompatible.share.loginUserMode.userID))"
}

// 女性直播“活跃认证说明页”是否已展示
//: public var TalkingLiveTabExplainIsShow: String {
public var k_succeedMsg: String {
    //: return "CacheLiveTabExplainIsShow_\(String(ExamineedReactiveCompatible.share.loginUserMode.userID))"
    return (String(userColorInsideMessage.suffix(4)) + "eLiv" + String(dataResultTitle.prefix(6)) + "plainI" + String(notiBackName.prefix(6))) + "\(String(ExamineedReactiveCompatible.share.loginUserMode.userID))"
}

/// 男性未订阅弹窗是否已展示
//: public var TalkingMaleUnsubscribedAlertIsShow: String {
public var mainSceneId: String {
    //: return "CacheMaleUnsubscribedAlertIsShow_\(String(ExamineedReactiveCompatible.share.loginUserMode.userID))"
    return String(bytes: userEffectMessage.map{inviteAt(add: $0)}, encoding: .utf8)! + "\(String(ExamineedReactiveCompatible.share.loginUserMode.userID))"
}

// AI亲密度说明弹窗是否已展示
//: public let TalkingAIIntimacyViewIsShow = "CacheAIIntimacyViewIsShow"
public let data_ageUseFormat = (String(k_parentId.suffix(5)) + "AIInt" + String(dataShareModelText.suffix(8)) + String(noti_constraintFormat.suffix(7)))

//: public let isFirstShowAnimatCacheKey  = "isFirstShowAnimatCacheKey"
public let user_informationKey = (String(dataBubbleId) + String(app_userDropMsg.suffix(8)))

//: public let isFirstShowMatchTipsViewCacheKey  = "isFirstShowMatchTipsViewCacheKey"
public let dataShowPath = String(bytes: notiNameFormat.map{$0^55}, encoding: .utf8)!

//: public let isShowCleanAnimatCacheKey  = "isShowCleanAnimatCacheKey"
public let const_giftId = (String(main_failData.suffix(6)) + String(show_logColorPath.prefix(5)) + "Anima" + String(noti_statusValue.prefix(4)) + String(main_centerFromMessage.prefix(5)))

//: public let isConversationIntimateCacheKey  = "isConversationIntimateCacheKey"
public let constSenseLicenseFormat = (String(showRegularPath.suffix(5)) + "vers" + String(main_makeUrl.prefix(6)) + "ntima" + String(mainSucceedText.suffix(4)) + "cheK" + String(app_modelData))

/// 一键打招呼本地存储key
//: public let TalkingSendAutoGreetIsToKey  = "sendAutoGreetIsTo"
public let mainScreenMessage = (dataEqualSlideTitle.lowercased() + "AutoGree" + String(userHiddenPathUrl.suffix(5)))

/// 邀请码
//: public let SaveInviteCodeKey  = "SaveInviteCodeKey"
public let showProfileClickStr = (String(notiPartMsg.suffix(4)) + "Invit" + String(user_itemUrl.prefix(4)) + String(app_groupPath.suffix(4)))

/// 私聊底部提示语_
//: public let PrivateChatTipsTitle  = "PrivateChatTipsTitle"
public let dataSumUrl = (String(mainViewKey) + showMTargetKey.lowercased())

/** 语音文件录制存储的路径 */
//: public let Talking_Chat_record_SandboxPath = NSHomeDirectory().appending("/Documents/User/record/")
public let noti_numberValue = NSHomeDirectory().appending((String(noti_equalKey) + userImageFormat.replacingOccurrences(of: "add", with: "ts") + "/User" + String(app_tempFrameDataStr.prefix(4)) + "ord/"))
//: public let Talking_Chat_voice_SandboxPath = NSHomeDirectory().appending("/Documents/User/voice/")
public let main_replaceMsg = NSHomeDirectory().appending((String(noti_dataStr.suffix(7)) + String(kArrayPlayStr.suffix(6)) + "er/vo" + String(noti_normalPath.suffix(4))))

// 首页滑动免费消息次数弹窗是否已展示
//: public let FreeMsgTimesViewIsShow = "FreeMsgTimesViewIsShow"
public let app_failMessage = (String(notiListName) + String(k_modeValue))

//: @objcMembers public class DataCacheRedefineReactiveCompatible: NSObject {
@objcMembers public class DataCacheRedefineReactiveCompatible: NSObject {
    //: @objc public class func getChatRecordPath() -> String {
    @objc public class func rid() -> String {
        //: return Talking_Chat_record_SandboxPath
        return noti_numberValue
    }

    //: @objc public class func getChatVoicePath() -> String {
    @objc public class func currentSmall() -> String {
        //: return Talking_Chat_voice_SandboxPath
        return main_replaceMsg
    }

    /// 获取私密图片本地缓存文件
    //: @objc public static func getIntimatePhotoPath() -> String {
    public static func writtenMatter() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimatePhoto") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(notiMakePath))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = ExamineedReactiveCompatible.share.loginUid
        let uid = ExamineedReactiveCompatible.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(data_showName.suffix(7)) + String(dataSectionToolPath.suffix(6))) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getIntimateVideoPath() -> String {
    public static func viewOf() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimateVideo") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(show_textYellowValue.suffix(7)) + String(show_colorContentPath))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = ExamineedReactiveCompatible.share.loginUid
        let uid = ExamineedReactiveCompatible.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(data_showName.suffix(7)) + String(dataSectionToolPath.suffix(6))) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getAskForGiftPath() -> String {
    public static func colorWith() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageAskForGift") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(kFillMsg) + String(data_finishStr.prefix(5)) + "skFo" + String(const_modelPath.suffix(5)))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = ExamineedReactiveCompatible.share.loginUid
        let uid = ExamineedReactiveCompatible.share.loginUid
        //: return cacheDict.appendingPathComponent("AskForGiftArr_\(uid)").path
        return cacheDict.appendingPathComponent((String(appSizeMsg) + String(k_mainSessionData.suffix(5))) + "\(uid)").path
    }
}

//: func createMsgVoicePath() {
func createMsgVoicePath() {
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_record_SandboxPath)
    _ = FileManager.organise(folderPath: noti_numberValue)
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_voice_SandboxPath)
    _ = FileManager.organise(folderPath: main_replaceMsg)
}
